import { ApiMeta } from '@components/ApiMeta.tsx';

# EsmLibraryPlugin

<ApiMeta specific={['Rspack']} addedVersion="1.5.6" />

Rspack æä¾›å®éªŒæ€§çš„ `EsmLibraryPlugin` æ’ä»¶ï¼Œç”¨äºç”Ÿæˆé™æ€å¯åˆ†æï¼Œæ”¯æŒ Code Splitting å¹¶ä¸”æ›´åŠ ç¾è§‚å¹²å‡€çš„ ESM åº“äº§ç‰©ã€‚

:::tip
ğŸš§ è¯¥æ’ä»¶ä»åœ¨å¼€å‘ä¸­ï¼Œé…ç½®å¯èƒ½éšæ—¶å˜åŠ¨ã€‚
:::

```js title="rspack.config.mjs"
import { rspack } from '@rspack/core';

export default {
  plugins: [new rspack.experiments.EsmLibraryPlugin()],
  output: {
    chunkFormat: false, // å°† chunkFormat è®¾æˆ falseï¼ŒEsmLibraryPlugin ä¼šå¤„ç† chunk çš„æ¸²æŸ“å’ŒåŠ è½½
  },
  optimization: {
    runtimeChunk: true, // æ¨èä½¿ç”¨ç‹¬ç«‹çš„ runtime chunkï¼Œå¦åˆ™ä½¿ç”¨è€…éœ€è¦ä»å…¥å£å¯¼å…¥ runtime ä»£ç 
    concatenateModules: false, // å…³é—­ concatenateModulesï¼ŒEsmLibraryPlugin æœ‰ç‹¬ç«‹çš„ scope hoisting å®ç°
  },
};
```

## å·²çŸ¥é™åˆ¶

- æ¨¡å—çš„æ‰§è¡Œé¡ºåºä¸èƒ½ 100% ä¿è¯ï¼Œè¯·é¿å…ä¾èµ–æ‰§è¡Œé¡ºåºç›¸å…³çš„å‰¯ä½œç”¨ã€‚
- æš‚ä¸æ”¯æŒ context module å’Œ ModuleFederationï¼Œä¸è¿‡æœªæ¥ä¼šè¿›è¡Œæ”¹è¿›ã€‚
