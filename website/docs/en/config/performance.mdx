import PropertyType from '../../../components/PropertyType.tsx';
import WebpackLicense from '@components/WebpackLicense';

<WebpackLicense from="https://webpack.js.org/configuration/performance/" />

# Performance

`performance` configures Rspack's performance hint mechanism, helping you identify oversized outputs during the build.

It compares asset sizes and entrypoint total sizes against thresholds to decide whether hints should be emitted, and `hints` controls the hint level (`warning` / `error` / disabled).

You can define budget thresholds with `maxAssetSize` and `maxEntrypointSize`, and use `assetFilter` to exclude files that should not be counted, so hints better match your real performance goals.

## performance

<PropertyType type="false | object" />

Set `performance` to `false` to disable the performance hint:

```js title="rspack.config.mjs"
export default {
  performance: false,
};
```

### performance.assetFilter

<PropertyType type="(assetFilename: string) => boolean" />

Used to filter which assets are included in performance hint calculations. Files returning `true` are included, and files returning `false` are ignored.

Ignore CSS files when calculating performance hints:

```js title="rspack.config.mjs"
export default {
  performance: {
    assetFilter: (assetFilename) => !assetFilename.endsWith('.css'),
  },
};
```

### performance.hints

<PropertyType
  type="false | 'error' | 'warning'"
  defaultValueList={[
    { defaultValue: 'warning', mode: 'production' },
    { defaultValue: 'false', mode: 'development' },
  ]}
/>

Controls whether performance hints are enabled and which level to use:

- `false`: Disable performance hints
- `'warning'`: Emit hints as warnings
- `'error'`: Emit hints as errors, which fails the build

Treat performance hints as build errors:

```js title="rspack.config.mjs"
export default {
  performance: {
    hints: process.env.NODE_ENV === 'production' ? 'error' : false,
  },
};
```

### performance.maxAssetSize

<PropertyType type="number" defaultValueList={[{ defaultValue: '250000' }]} />

Sets the size threshold for a single asset (in bytes). Rspack emits a performance hint when an asset exceeds this value.

Lower the single asset size limit to catch oversized files earlier:

```js title="rspack.config.mjs"
export default {
  performance: {
    maxAssetSize: 100000,
  },
};
```

### performance.maxEntrypointSize

<PropertyType type="number" defaultValueList={[{ defaultValue: '250000' }]} />

Sets the total size threshold for an entrypoint (in bytes). Entrypoint size means the total size needed for the initial load of that entry. Rspack emits a performance hint when the entrypoint total size exceeds this value.

For example, set the entrypoint size threshold to 500 KB:

```js title="rspack.config.mjs"
export default {
  performance: {
    maxEntrypointSize: 500000,
  },
};
```
