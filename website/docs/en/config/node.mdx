import WebpackLicense from '@components/webpack-license';

<WebpackLicense from="https://webpack.js.org/configuration/node/" />

# Node

The following Node.js options configure whether to polyfill or mock certain [Node.js globals](https://nodejs.org/docs/latest/api/globals.html).

## node.global

- **Type:** `boolean` `'warn'`

See [the Node.js documentation](https://nodejs.org/api/globals.html#globals_global) for the exact behavior of this object.

Options:

- `true`: Provide a polyfill.
- `false`: Provide nothing. Code that expects this object may crash with a `ReferenceError`.
- `'warn'`: Show a warning when using `global`.

## node.\_\_filename

- **Type:** `boolean` `'mock' | 'warn-mock' | 'eval-only'`

Options:

- `true`: The filename of the input file relative to the [`context`](/config/context) option.
- `false`: Rspack won't touch your `\_\_filename` code, which means you have the regular Node.js `\_\_filename` behavior. The filename of the **output** file when run in a Node.js environment.
- `'mock'`: The fixed value `'/index.js'`.
- `'warn-mock'`: Use the fixed value of `'/index.js'` but show a warning.
- `'node-module'`: Replace `\_\_filename` in CommonJS modules to `fileURLToPath(import.meta.url)` when `output.module` is enabled.
- `'eval-only'`: Equivalent to `false`.

## node.\_\_dirname

- **Type:** `boolean` `'mock' | 'warn-mock' | 'eval-only'`

Options:

- `true`: The dirname of the **input** file relative to the [`context`](/config/context) option.
- `false`: Rspack won't touch your `__dirname` code, which means you have the regular Node.js `__dirname` behavior. The dirname of the **output** file when run in a Node.js environment.
- `'mock'`: The fixed value `'/'`.
- `'warn-mock'`: Use the fixed value of `'/'` but show a warning.
- `'eval-only'`: Equivalent to `false`.
