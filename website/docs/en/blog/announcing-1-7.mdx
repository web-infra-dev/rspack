---
date: 2025-12-31 16:00:00
sidebar: false
---

_December 31, 2025_

# Announcing Rspack 1.7

![Rspack 1.7](https://assets.rspack.rs/rspack/rspack-banner-v1-7.png)

---

We are excited to announce Rspack 1.7!

Notable changes include:

- New Features
  - [Improved SWC Plugin Compatibility](#improved-swc-plugin-compatibility)
  - [Support for Import Bytes](#support-for-import-bytes)
  - [Lazy compilation](#lazy-compilation)
  - [Stabilization of experimental features](#stabilization-of-experimental-features)
- Rstack Progress
  - [Rsbuild 1.7](#rsbuild-17)
  - [Rsdoctor 1.4](#rsdoctor-14)
  - [Rslib 0.19](#rslib-019)
  - [Rstest 0.7](#rstest-07)
  - [Rspress 2.0 RC](#rspress-20-rc)

## New features

### Improved SWC Plugin Compatibility

In previous versions, the upgrade cost for SWC Wasm plugins was relatively high. This was because the SWC AST structure would change with version evolution, causing existing plugins to fail after an SWC upgrade. Plugin authors needed to adapt their plugins, and users needed to synchronize dependency upgrades, which affected project stability and the upgrade experience.

To alleviate this issue, we contributed and introduced a series of [compatibility improvements](https://swc.rs/docs/plugin/ecmascript/compatibility) to the SWC community, including:

- Using the self-describing [cbor](https://www.rfc-editor.org/rfc/rfc8949.html) serialization scheme to replace the version-sensitive [rkyv](https://rkyv.org/), allowing Wasm plugins to better adapt to AST structure changes.
- Introducing the `Unknown` variant for enum types in the AST, improving fault tolerance when encountering new fields or nodes.

In Rspack 1.7, we upgraded the used SWC version and supported the above scheme. From now on, in most scenarios, SWC upgrades will not affect the normal operation of plugins built with older SWC versions.

Currently, this scheme has been adopted by most popular SWC Wasm plugins. If you are an SWC Wasm plugin author, please refer to the [official guide](https://swc.rs/docs/plugin/ecmascript/compatibility#make-your-plugin-compatible) to adopt this scheme and reduce maintenance costs in future version evolutions.

### Support for Import Bytes

Rspack now natively supports the [TC39 import attributes](https://github.com/tc39/proposal-import-bytes) proposal for importing resource files as bytes. You can directly import resources as `Uint8Array` binary data and decode them using `TextDecoder`.

```js
// Static import
import fileBytes from './file.bin' with { type: 'bytes' };
const decoder = new TextDecoder('utf-8');
const text = decoder.decode(fileBytes);

// Dynamic import
const module = await import('./file.bin', { with: { type: 'bytes' } });
const decoder = new TextDecoder('utf-8');
const text = decoder.decode(module.default);
```

### Lazy compilation

In Rspack 1.5, we stabilized the [Lazy Compilation](/guide/features/lazy-compilation) feature and enabled it by default for dynamically imported modules in Rsbuild.

Starting from Rspack 1.7, the Rspack CLI will also default to enabling on-demand compilation for dynamically imported modules when building Web applications. This improvement can reduce the number of modules in the initial build, thereby speeding up the dev server startup.

```js title="rspack.config.mjs"
export default {
  // Current default configuration
  lazyCompilation: {
    imports: true,
    entries: false,
  },
};
```

If you have special requirements, such as needing to debug the full build output or inspect the complete Module Graph, you can explicitly disable this feature by setting [lazyCompilation](/config/lazy-compilation) to `false`.

### Stabilization of experimental features

In Rspack 1.7, we have advanced the stabilization of several experimental features. The following capabilities have been verified and entered the stable stage, and the corresponding experimental flags have been deprecated or adjusted to default behaviors:

- **Constant Inlining Optimization**: This optimization is now stable and enabled by default in production builds.
  - The original [experiments.inlineConst](/config/deprecated-options#experimentsinlineconst) option is deprecated.
  - If you need to disable this behavior, use [optimization.inlineExports](/config/optimization#optimizationinlineexports) to control it.
- **TypeScript Enum Inlining Optimization**: This optimization is now stable.
  - The original [experiments.inlineEnum](/config/deprecated-options#experimentsinlineenum) option is deprecated.
  - Use [collectTypeScriptInfo.exportedEnum](/guide/features/builtin-swc-loader#collecttypescriptinfoexportedenum) to control whether to collect exported `enum` information.
  - Use [optimization.inlineExports](/config/optimization#optimizationinlineexports) to control whether to inline `enum`.
- **Type Re-export Check**: This optimization is now stable.
  - The original [experiments.typeReexportsPresence](/config/deprecated-options#experimentstypereexportspresence) option is deprecated.

> Refer to the [Upgrade Guide](#upgrade-guide) to learn how to adjust related configurations.

## Rstack Progress

### Rsbuild 1.7

#### Error overlay improvements

Rsbuild's error overlay now supports displaying **runtime errors**. When an exception is thrown during application execution, the error will be rendered directly on the overlay, helping you discover and locate problems faster.

![Rsbuild 1.7 Error Overlay](https://assets.rspack.rs/rspack/assets/rspack-v1-7-rsbuild-error-overlay.png)

This feature is disabled by default and can be enabled via the [dev.client.overlay.runtime](https://rsbuild.rs/config/dev/client#overlayruntime) option:

```js title=rsbuild.config.ts
export default {
  dev: {
    client: {
      overlay: {
        runtime: true,
      },
    },
  },
};
```

#### Print Size Diff

Rsbuild now supports printing size differences to visually observe if the build result size has changed.

![Rsbuild 1.7 Print Size Diff](https://assets.rspack.rs/rspack/assets/rspack-v1-7-rsbuild-print-size-diff.png)

When the [performance.printFileSize.diff](https://rsbuild.rs/config/performance/print-file-size#diff) option is enabled, Rsbuild will record a snapshot of the asset sizes upon build completion. Subsequent builds will automatically compare with the previous result and display value changes directly in the log. You can clearly see whether each file has grown or shrunk, as well as the overall size change, making it suitable for quickly spotting size regressions during daily development.

```js title=rsbuild.config.ts
export default {
  performance: {
    printFileSize: {
      diff: true,
    },
  },
};
```

#### create-rsbuild improvements

`create-rsbuild` now includes more out-of-the-box tools.

When creating an Rsbuild project, you can now choose to automatically integrate [Rstest](https://rstest.rs/) as the testing framework or enable [Storybook](https://storybook.rsbuild.rs/) for UI component development and debugging. Related dependencies and basic configurations will be completed in the initialization phase, reducing repetitive manual configuration costs.

```text
◆  Select additional tools (Use <space> to select, <enter> to continue)
│  ◼ Rstest - testing
│  ◻ Biome - linting & formatting
│  ◻ ESLint - linting
│  ◻ Prettier - formatting
│  ◻ Storybook - component development
156: └
```

### Rsdoctor 1.4

#### New Tree Map View

Rsdoctor 1.4 has improved the original [Tree Map](https://rsdoctor.rs/guide/usage/bundle-size) view. The new interaction design helps you analyze the overall composition of the bundle and the size proportion of various assets and modules more intuitively.

In this view, you can quickly locate specific modules or assets via search. Clicking on a module or asset will automatically focus and zoom in on the corresponding area. Double-clicking a module can also expand its dependency chain, allowing you to view the reference relationship between modules layer by layer, thus clarifying the source of the size.

![Rsdoctor Tree Map](https://assets.rspack.rs/rspack/assets/rspack-v1-7-rsdoctor-treemap.gif)

### Rslib 0.19

#### ESM Output Stabilization

In previous versions, Rslib enabled Rspack's [new ESM library output](/plugins/rspack/esm-library-plugin#esmlibraryplugin) through the experimental configuration [experiments.advancedEsm](https://rslib.rs/config/lib/experiments#experimentsadvancedesm) to improve the overall quality of ESM artifacts. After verification and polishing over multiple versions, this capability is now stable.

Starting from Rslib 0.19, Rslib's bundle mode will enable this feature by default. Developers do not need any additional configuration to directly obtain ESM artifacts that are friendlier to static analysis and fully support code splitting.

#### JavaScript API

Rslib 0.19 introduces a brand new [JavaScript API](https://rslib.rs/api/start), allowing developers to invoke Rslib's build capabilities directly programmatically in JavaScript code.

Here is a basic example:

```js
import { createRslib } from '@rslib/core';

// Create Rslib instance
const rslib = await createRslib();
// Build production output
await rslib.build();
```

> For more usage, please refer to the [API Documentation](https://rslib.rs/api/javascript-api/core).

### Rstest 0.7

#### Configuration Adapter

Rstest 0.7 introduces the [extends](https://rstest.rs/config/test/extends) option and an adapter mechanism, allowing you to directly reuse existing tool or framework configurations. An adapter is a configuration transformation function that can convert configurations from other tools into Rstest configurations, thereby reducing the cost of adopting Rstest.

For example, in a library project using Rslib, you can directly reuse the existing Rslib configuration via the [@rstest/adapter-rslib](https://www.npmjs.com/package/@rstest/adapter-rslib) adapter:

```js title=rstest.config.ts
import { defineConfig } from '@rstest/core';
import { withRslibConfig } from '@rstest/adapter-rslib';

export default defineConfig({
  // Automatically read rslib.config.ts and convert to Rstest configuration
  extends: withRslibConfig(),
  // Other test configurations
  coverage: {
    // ...
  },
});
```

The adapter is responsible for converting configurations of different tools into Rstest configurations (such as `define`, `alias`, etc.), while `extends` is responsible for merging the converted configuration with Rstest's configuration. Through the cooperation of the two, any tool or framework based on Rspack can be integrated with Rstest at minimal cost.

Currently, the `@rstest/adapter-rslib` adapter has been officially released, and we will launch more adapters to interface with various tools in the Rstack. You can also refer to [Rstest - Adapters](https://rstest.rs/guide/integration/adapters) to write custom adapters.

#### Improved Test Feedback

Rstest has made several experience optimizations for local development and debugging scenarios, making test feedback more intuitive:

- **Spot stuck tests earlier:** Rstest now supports marking test cases that have not completed for a long time during local runs. When the test process slows down, you can directly see which case is executing and may be stuck, instead of just staring at the terminal waiting for the entire test to timeout.

- **Clearer timeout failure feedback:** When a test fails due to timeout, Rstest now displays the number of executed assertions in the error message. This helps you quickly judge whether the test has been partially executed or is stuck in some asynchronous logic, thus locating the problem faster.

### Rspress 2.0 RC

#### SSG-MD Feature

In front-end frameworks based on React dynamic rendering, there is often a problem that static information is difficult to extract, and Rspress also encountered the same problem. One of the core advantages of Rspress is allowing users to enhance document expressiveness through dynamic features such as [MDX fragments](https://v2.rspress.rs/guide/use-mdx/components), React components, Hooks, and TSX routes. However, these dynamic contents face the following problems when converted to Markdown text:

- Directly inputting MDX to AI will contain a lot of code syntax noise and lose React component content.
- Converting SSG-generated HTML to Markdown often yields poor results, and information quality is difficult to guarantee.

To solve this problem fundamentally, Rspress 2.0 introduces the [SSG-MD](https://v2.rspress.rs/guide/basic/ssg-md) feature. This is a brand-new function, as the name suggests, the only difference from [Static Site Generation (SSG)](https://v2.rspress.rs/guide/basic/ssg) is that it renders your page into Markdown files instead of HTML files, and generates [llms.txt](https://llmstxt.org/) and llms-full.txt files. Compared with traditional methods such as converting html to markdown, SSG-MD has better information sources during rendering, such as React Virtual DOM, so it has better static information quality and flexibility.

Enabling it is very simple:

```js title="rspress.config.ts"
import { defineConfig } from '@rspress/core';

export default defineConfig({
  llms: true,
});
```

The build will generate the following structure:

```
doc_build
├── llms.txt          # Summary version, containing key document index
├── llms-full.txt     # Full version, containing all document content
├── guide
│   └── start
│       └── introduction.md
└── ...
```

For custom components, you can control their rendering behavior in SSG-MD mode via environment variables:

```tsx
export function Tab({ label }: { label: string }) {
  if (process.env.__SSR_MD__) {
    // Output plain text description in SSG-MD mode
    return <>{`**Tab: ${label}**`}</>;
  }
  // Normal interactive component rendering
  return <div className="tab">{label}</div>;
}
```

This guarantees both the interactive experience of the document and ensures that AI can understand the semantic information of the components.

For more details, please refer to: [SSG-MD Guide](https://v2.rspress.rs/guide/basic/ssg-md)

## Upgrade guide

### Upgrade SWC Plugins

If your project uses SWC Wasm plugins (such as `@swc/plugin-emotion`, etc.), please upgrade the plugins to be compatible with `swc_core@54` or above, otherwise build failures or runtime exceptions may occur due to version incompatibility.

> For details, please consult: [FAQ - SWC plugin version unmatched](/errors/swc-plugin-version).

### Remove deprecated configuration

- The following experimental options have been deprecated and can be directly removed:

```js title="rspack.config.mjs"
export default {
  // [!code --]
  experiments: {
    // [!code --]
    inlineConst: true,
    // [!code --]
    inlineEnum: true,
    // [!code --]
    typeReexportsPresence: true,
  },
};
```

- Adjust the position of the [collectTypeScriptInfo](/guide/features/builtin-swc-loader#collecttypescriptinfo) option in `builtin:swc-loader`, removing the `rspackExperiments` level:

```js title="rspack.config.mjs"
export default {
  module: {
    rules: [
      {
        test: /\.ts$/,
        loader: 'builtin:swc-loader',
        options: {
          // [!code --]
          rspackExperiments: {
            collectTypeScriptInfo: {
              exportedEnum: true,
              typeExports: true,
            },
            // [!code --]
          },
        },
      },
    ],
  },
};
```
