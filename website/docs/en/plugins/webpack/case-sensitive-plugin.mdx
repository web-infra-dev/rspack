import { ApiMeta } from '@components/ApiMeta.tsx';

# CaseSensitivePlugin

<ApiMeta addedVersion={'1.2.0'} />

:::tip Note
In 1.2.0 version, this plugin was named `WarnCaseSensitiveModulesPlugin`
In 1.7.0 version, this plugin was renamed to `CaseSensitivePlugin`, and `WarnCaseSensitiveModulesPlugin` was marked as deprecated and will be removed in future versions.
:::

Detect case sensitivity conflicts in referenced module names and emit warnings.

Different operating systems may handle case sensitivity in file systems differently. When code references module names that differ only in case, this can lead to unexpected errors during cross-platform compilation. This plugin helps to avoid such situations.

```js
new rspack.CaseSensitivePlugin();
```

## Register

```js title="rspack.config.mjs"
import { rspack } from '@rspack/core';

export default {
  plugins: [new rspack.CaseSensitivePlugin()],
};
```

## Example

Assume there is a `utils.js` file in the project:

```text
src/
  ├── a.js
  ├── b.js
  └── utils.js
```

When importing `utils.js` in `a.js` and `b.js`, if the case sensitivity in the import path is inconsistent, the plugin will emit a warning.

```js title="src/a.js"
import { helper } from './utils';
```

```js title="src/b.js"
import { helper } from './Utils';
```

The warning is as follows:

```bash
WARNING There are multiple modules with names that only differ in casing.
```

This warning indicates that there is a case sensitivity conflict in module names, ensuring that the same module is used with consistent case sensitivity in the project.

:::tip
`CaseSensitivePlugin` is based on module identifiers rather than the file system to determine case sensitivity differences.
:::

A warning will also be triggered if the final assets contains two files with names that differ only in case:

```bash
WARNING Prevent writing to file that only differs in casing or query string from already written file.
This will lead to a race-condition and corrupted files on case-insensitive file systems.
  - main.js
  - MAIN.js
```
