import CompilerType from '../../types/compiler.mdx';
import StatsType from '../../types/stats.mdx';
import { Collapse, CollapsePanel } from '@components/Collapse';

# Compiler Hooks

## `environment`

`SyncHook<[]>`

Called while preparing the compiler environment, right after initializing the plugins in the configuration file.

## `afterEnvironment`

`SyncHook<[]>`

Called right after the environment hook, when the compiler environment setup is complete.

## `afterPlugins`

`SyncHook<[Compiler]>`

Called after setting up initial set of internal plugins.

<Collapse>
  <CollapsePanel
    className="collapse-code-panel"
    header="Compiler.ts"
    key="Compiler"
  >
    <CompilerType />
  </CollapsePanel>
</Collapse>

## `afterResolvers`

`SyncHook<[Compiler]>`

Triggered after resolver setup is complete.

<Collapse>
  <CollapsePanel
    className="collapse-code-panel"
    header="Compiler.ts"
    key="Compiler"
  >
    <CompilerType />
  </CollapsePanel>
</Collapse>

## `entryOption`

`SyncBailHook<[string, EntryNormalized]>`

Called after the entry configuration has been processed.

<Collapse>
  <CollapsePanel header="EntryNormalized.ts" key="EntryNormalized">
    See [entry configuration](/config/entry) for more details.
  </CollapsePanel>
</Collapse>

## `initialize`

`SyncHook<[]>`

Called when a compiler object is initialized.

## `beforeRun`

`AsyncSeriesHook<[Compiler]>`

Adds a hook right before running the compiler.

<Collapse>
  <CollapsePanel
    className="collapse-code-panel"
    header="Compiler.ts"
    key="Compiler"
  >
    <CompilerType />
  </CollapsePanel>
</Collapse>

## `run`

`AsyncSeriesHook<[Compiler]>`

Called at the beginning of a build execution.

<Collapse>
  <CollapsePanel
    className="collapse-code-panel"
    header="Compiler.ts"
    key="Compiler"
  >
    <CompilerType />
  </CollapsePanel>
</Collapse>

## `childCompiler`

`SyncHook[Compiler, string, number]`

> where the version of the function type is `>=0.4.1`.

Executed after created a childCompiler.

<Collapse>
  <CollapsePanel
    className="collapse-code-panel"
    header="Compiler.ts"
    key="Compiler"
  >
    <CompilerType />
  </CollapsePanel>
</Collapse>

## `watchRun`

`AsyncSeriesHook<[Compiler]>`

Executes a plugin during watch mode after a new compilation is triggered but before the compilation is actually started.

<Collapse>
  <CollapsePanel
    className="collapse-code-panel"
    header="Compiler.ts"
    key="Compiler"
  >
    <CompilerType />
  </CollapsePanel>
</Collapse>

## `compile`

`SyncHook<[]>`

Called right after beforeCompile, before a new compilation is created.

## `beforeCompile`

`AsyncSeriesHook<[]>`

Executes a plugin after compilation parameters are created.

## `afterCompile`

`AsyncSeriesHook<[Compilation]>`

Called after finishing and sealing the compilation.

<Collapse>
  <CollapsePanel header="Compilation.ts" key="Compilation">
    See [compilation object](/api/objects/compilation) for more details.
  </CollapsePanel>
</Collapse>

## `thisCompilation`

`SyncHook<[Compilation]>`

Executed while initializing the compilation, right before emitting the compilation event.

<Collapse>
  <CollapsePanel header="Compilation.ts" key="Compilation">
    See [compilation object](/api/objects/compilation) for more details.
  </CollapsePanel>
</Collapse>

## `compilation`

`SyncHook<[Compilation]>`

Runs a plugin after a compilation has been created.

<Collapse>
  <CollapsePanel header="Compilation.ts" key="Compilation">
    See [compilation object](/api/objects/compilation) for more details.
  </CollapsePanel>
</Collapse>

## `make`

`AsyncParallelHook<[Compilation]>`

Executed before the make stage.

<Collapse>
  <CollapsePanel header="Compilation.ts" key="Compilation">
    See [compilation object](/api/objects/compilation) for more details.
  </CollapsePanel>
</Collapse>

## `shouldEmit`

`SyncBailHook<[Compilation]>`

> where the version of the function type is `>=0.4.1`.

Return a boolean telling whether to emit.

<Collapse>
  <CollapsePanel header="Compilation.ts" key="Compilation">
    See [compilation object](/api/objects/compilation) for more details.
  </CollapsePanel>
</Collapse>

## `emit`

`AsyncSeriesHook<[Compilation]>`

Executed right before emitting assets to output directory.

<Collapse>
  <CollapsePanel header="Compilation.ts" key="Compilation">
    See [compilation object](/api/objects/compilation) for more details.
  </CollapsePanel>
</Collapse>

## `afterEmit`

`AsyncSeriesHook<[Compilation]>`

Called after emitting assets to output directory.

<Collapse>
  <CollapsePanel header="Compilation.ts" key="Compilation">
    See [compilation object](/api/objects/compilation) for more details.
  </CollapsePanel>
</Collapse>

## `done`

`AsyncSeriesHook<Stats>`

Executed when the compilation has completed.

<Collapse>
  <CollapsePanel className="collapse-code-panel" header="Stats.ts" key="Stats">
    <StatsType />
  </CollapsePanel>
</Collapse>

## `afterDone`

`AsyncSeriesHook<Stats>`

Executed after `done` hook.

<Collapse>
  <CollapsePanel className="collapse-code-panel" header="Stats.ts" key="Stats">
    <StatsType />
  </CollapsePanel>
</Collapse>

## `watchClose`

`SyncHook<[]>`

Called when a watching compilation has stopped.

## `failed`

`SyncHook<[Error]>`

Called if the compilation fails.
