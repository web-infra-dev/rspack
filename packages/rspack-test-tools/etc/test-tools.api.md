## API Report File for "@rspack/test-tools"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { Compilation } from '@rspack/core';
import type { Compilation as Compilation_2 } from 'webpack';
import { Compiler } from '@rspack/core';
import type { Compiler as Compiler_2 } from 'webpack';
import type { Configuration } from 'webpack';
import type EventEmitter from 'node:events';
import { MultiCompiler } from '@rspack/core';
import type { MultiStats } from '@rspack/core';
import type { MultiStats as MultiStats_2 } from 'webpack';
import type { RspackOptions } from '@rspack/core';
import type { RspackOptionsNormalized } from '@rspack/core';
import type { RspackPluginInstance } from '@rspack/core';
import type { Stats } from '@rspack/core';
import type { Stats as Stats_2 } from 'webpack';
import type { StatsCompilation } from '@rspack/core';
import type { StatsCompilation as StatsCompilation_2 } from 'webpack';
import type { StatsError } from '@rspack/core';
import type { WebpackOptionsNormalized } from 'webpack';

// @public (undocumented)
export class BasicCaseCreator<T extends ECompilerType> {
    constructor(_options: IBasicCaseCreatorOptions<T>);
    // (undocumented)
    protected checkSkipped(src: string, testConfig: TTestConfig<T>, options: IBasicCaseCreatorOptions<T>): boolean | string;
    // (undocumented)
    protected clean(folders: string[]): void;
    // (undocumented)
    create(name: string, src: string, dist: string, temp?: string, caseOptions?: Partial<IBasicCaseCreatorOptions<T>>): ITester | undefined;
    // (undocumented)
    protected createConcurrentEnv(): ITestEnv & IConcurrentTestEnv;
    // (undocumented)
    protected createEnv(testConfig: TTestConfig<T>, options: IBasicCaseCreatorOptions<T>): ITestEnv;
    // (undocumented)
    protected createTester(name: string, src: string, dist: string, temp: string | undefined, testConfig: TTestConfig<T>, options: IBasicCaseCreatorOptions<T>): ITester;
    // (undocumented)
    protected currentConcurrent: number;
    // (undocumented)
    protected describe(name: string, tester: ITester, testConfig: TTestConfig<T>, options: IBasicCaseCreatorOptions<T>): void;
    // (undocumented)
    protected describeConcurrent(name: string, tester: ITester, testConfig: TTestConfig<T>, options: IBasicCaseCreatorOptions<T>): void;
    // (undocumented)
    protected getMaxConcurrent(concurrent?: number): number;
    // (undocumented)
    protected _options: IBasicCaseCreatorOptions<T>;
    // (undocumented)
    protected readTestConfig(src: string): TTestConfig<T>;
    // (undocumented)
    protected registerConcurrentTask(name: string, starter: () => void, concurrent?: number): () => void;
    // (undocumented)
    protected shouldRun(name: string): boolean;
    // (undocumented)
    protected skip(name: string, reason: string | boolean): void;
    // (undocumented)
    protected tasks: [string, () => void][];
    // (undocumented)
    protected tryRunTask(concurrent?: number): void;
}

// @public (undocumented)
export function checkChunkModules(statsJson: any, chunkModulesMap: any, strict?: boolean): boolean;

// @public (undocumented)
export function compareContent(sourceContent: string | false, distContent: string | false, compareOptions: ICompareOptions): TCompareResult;

// @public (undocumented)
export function compareFile(sourceFile: string, distFile: string, compareOptions: ICompareOptions): TFileCompareResult;

// @public (undocumented)
export function compareModules(modules: string[], sourceModules: Record<string, string>, distModules: Record<string, string>, compareOptions: ICompareOptions): TModuleCompareResult[];

// @public (undocumented)
export function createBuiltinCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createCacheCase(name: string, src: string, dist: string, target: TCompilerOptions<ECompilerType.Rspack>["target"], temp: string): void;

// @public (undocumented)
export function createCompilerCase(name: string, src: string, dist: string, testConfig: string): void;

// @public (undocumented)
export function createConfigCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createDefaultsCase(name: string, src: string): void;

// @public (undocumented)
export function createDevNormalCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createDiagnosticCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createDiffCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createErrorCase(name: string, src: string, dist: string, testConfig: string): void;

// @public (undocumented)
export function createEsmOutputCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createExampleCase(name: string, src: string): void;

// @public (undocumented)
export function createHashCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createHookCase(name: string, src: string, dist: string, source: string): void;

// @public (undocumented)
export function createHotCase(name: string, src: string, dist: string, temp: string, target: TCompilerOptions<ECompilerType.Rspack>["target"]): void;

// @public (undocumented)
export function createHotIncrementalCase(name: string, src: string, dist: string, temp: string, target: TCompilerOptions<ECompilerType.Rspack>["target"], webpackCases: boolean): void;

// @public (undocumented)
export function createHotNormalCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createHotStepCase(name: string, src: string, dist: string, temp: string, target: TCompilerOptions<ECompilerType.Rspack>["target"]): void;

// @public (undocumented)
export function createMultiCompilerCase(name: string, src: string, dist: string, testConfig: string): void;

// @public (undocumented)
export function createNativeWatcher(name: string, src: string, dist: string, temp: string): void;

// @public (undocumented)
export function createNormalCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createProdNormalCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createSerialCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createStatsAPICase(name: string, src: string, dist: string, testConfig: string): void;

// @public (undocumented)
export function createStatsOutputCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createTreeShakingCase(name: string, src: string, dist: string): void;

// @public (undocumented)
export function createWatchCase(name: string, src: string, dist: string, temp: string): void;

// @public (undocumented)
export function createWatchIncrementalCase(name: string, src: string, dist: string, temp: string, options?: WatchIncrementalOptions): void;

// @public (undocumented)
export function describeByWalk(testFile: string, createCase: (name: string, src: string, dist: string) => void, options?: {
    type?: "file" | "directory";
    level?: number;
    source?: string;
    dist?: string;
    absoluteDist?: boolean;
    describe?: jest.Describe;
    exclude?: RegExp[];
}): void;

// @public (undocumented)
export class DiffComparator {
    constructor(options: IDiffComparatorOptions);
    // (undocumented)
    compare(): Promise<void>;
}

// @public (undocumented)
export enum ECompareResultType {
    // (undocumented)
    Different = "different",
    // (undocumented)
    Missing = "missing",
    // (undocumented)
    OnlyDist = "only-dist",
    // (undocumented)
    OnlySource = "only-source",
    // (undocumented)
    Same = "same"
}

// @public (undocumented)
export enum ECompilerType {
    // (undocumented)
    Rspack = "rspack",
    // (undocumented)
    Webpack = "webpack"
}

// @public (undocumented)
export enum EEsmMode {
    // (undocumented)
    Evaluated = 1,
    // (undocumented)
    Unknown = 0,
    // (undocumented)
    Unlinked = 2
}

// @public (undocumented)
export function escapeSep(str: string): string;

// @public (undocumented)
export function formatCode(name: string, raw: string, options: IFormatCodeOptions): string;

// @public (undocumented)
export function getRspackDefaultConfig(cwd: string, config: TCompilerOptions<ECompilerType>): TCompilerOptions<ECompilerType>;

// @public (undocumented)
export interface IBasicCaseCreatorOptions<T extends ECompilerType> {
    // (undocumented)
    [key: string]: unknown;
    // (undocumented)
    clean?: boolean;
    // (undocumented)
    concurrent?: boolean | number;
    // (undocumented)
    contextValue?: Record<string, unknown>;
    // (undocumented)
    createContext?: (config: ITesterConfig) => ITestContext;
    // (undocumented)
    describe?: boolean;
    // (undocumented)
    description?: (name: string, step: number) => string;
    // (undocumented)
    runner?: TTestRunnerCreator;
    // (undocumented)
    steps: (creatorConfig: IBasicCaseCreatorOptions<T> & {
        name: string;
        src: string;
        dist: string;
        temp: string | void;
    }) => ITestProcessor[];
    // (undocumented)
    testConfig?: (testConfig: TTestConfig<T>) => void;
    // (undocumented)
    timeout?: number;
}

// @public (undocumented)
export interface ICompareOptions {
    // (undocumented)
    bootstrap?: boolean;
    // (undocumented)
    detail?: boolean;
    // (undocumented)
    format: IFormatCodeOptions;
    // (undocumented)
    modules?: TCompareModules;
    // (undocumented)
    renameModule?: (name: string) => string;
    // (undocumented)
    runtimeModules?: TCompareModules;
    // (undocumented)
    snapshot?: string;
}

// @public (undocumented)
interface IConcurrentTestEnv {
    // (undocumented)
    clear: () => void;
    // (undocumented)
    run: () => Promise<void>;
}

// @public (undocumented)
export interface IDiffComparatorOptions {
    // (undocumented)
    bootstrap?: boolean;
    // (undocumented)
    files: string[];
    // (undocumented)
    formatOptions?: IFormatCodeOptions;
    // (undocumented)
    modules?: TCompareModules;
    // (undocumented)
    reporters: ITestReporter<unknown>[];
    // (undocumented)
    rspackDist: string;
    // (undocumented)
    runtimeModules?: TCompareModules;
    // (undocumented)
    webpackDist: string;
}

// @public (undocumented)
export interface IFormatCodeOptions {
    // (undocumented)
    ignoreBlockOnlyStatement: boolean;
    // (undocumented)
    ignoreCssFilePath: boolean;
    // (undocumented)
    ignoreIfCertainCondition: boolean;
    // (undocumented)
    ignoreModuleArguments: boolean;
    // (undocumented)
    ignoreModuleId: boolean;
    // (undocumented)
    ignoreObjectPropertySequence: boolean;
    // (undocumented)
    ignorePropertyQuotationMark: boolean;
    // (undocumented)
    ignoreSwcHelpersPath: boolean;
    // (undocumented)
    replacements?: IFormatCodeReplacement[];
}

// @public (undocumented)
export interface IFormatCodeReplacement {
    // (undocumented)
    from: string | RegExp;
    // (undocumented)
    to: string | ((substring: string, ...args: any[]) => string);
}

// @public (undocumented)
export interface IGlobalContext {
    // (undocumented)
    [key: string]: any;
    // (undocumented)
    clearTimeout: typeof clearTimeout;
    // (undocumented)
    console: Record<string, (...args: any[]) => void>;
    // (undocumented)
    setTimeout: typeof setTimeout;
}

// @public (undocumented)
export interface IModuleScope extends ITestEnv {
    // (undocumented)
    [key: string]: any;
    // (undocumented)
    console: Record<string, (...args: any[]) => void>;
    // (undocumented)
    expect: jest.Expect;
}

// @public (undocumented)
export interface INodeRunnerOptions<T extends ECompilerType> {
    // (undocumented)
    cachable?: boolean;
    // (undocumented)
    compilerOptions: TCompilerOptions<T>;
    // (undocumented)
    dist: string;
    // (undocumented)
    env: ITestEnv;
    // (undocumented)
    name: string;
    // (undocumented)
    runInNewContext?: boolean;
    // (undocumented)
    source: string;
    // (undocumented)
    stats?: () => TCompilerStatsCompilation<T>;
    // (undocumented)
    testConfig: TTestConfig<T>;
}

// @public (undocumented)
export function isCss(filePath: string): boolean;

// @public (undocumented)
export const isDirectory: (p: string) => boolean;

// @public (undocumented)
export const isFile: (p: string) => boolean;

// @public (undocumented)
export function isJavaScript(filePath: string): boolean;

// @public (undocumented)
export function isUpdateSnapshot(): boolean;

// @public (undocumented)
export const isValidCaseDirectory: (name: string) => boolean;

// @public (undocumented)
export interface ITestCompilerManager<T extends ECompilerType> {
    // (undocumented)
    build(): Promise<TCompilerStats<T>>;
    // (undocumented)
    close(): Promise<void>;
    // (undocumented)
    createCompiler(): TCompiler<T>;
    // (undocumented)
    createCompilerWithCallback(callback: (error: Error | null, stats: TCompilerStats<T> | null) => void): TCompiler<T>;
    // (undocumented)
    getCompiler(): TCompiler<T> | null;
    // (undocumented)
    getEmitter(): EventEmitter;
    // (undocumented)
    getOptions(): TCompilerOptions<T>;
    // (undocumented)
    getStats(): TCompilerStats<T> | TCompilerMultiStats<T> | null;
    // (undocumented)
    mergeOptions(newOptions: TCompilerOptions<T>): TCompilerOptions<T>;
    // (undocumented)
    setOptions(newOptions: TCompilerOptions<T>): TCompilerOptions<T>;
    // (undocumented)
    watch(timeout?: number): void;
}

// @public (undocumented)
export interface ITestContext {
    // (undocumented)
    clearError(name?: string): void;
    // (undocumented)
    closeCompiler(name: string): Promise<void>;
    // (undocumented)
    emitError(name: string, err: Error | string): void;
    // (undocumented)
    getCompiler<T extends ECompilerType>(name: string, type: T | void): ITestCompilerManager<T>;
    // (undocumented)
    getDist(sub?: string): string;
    // (undocumented)
    getError(name?: string): Error[];
    // (undocumented)
    getNames(): string[];
    // (undocumented)
    getRunner(name: string, file: string, env: ITestEnv): ITestRunner;
    // (undocumented)
    getSource(sub?: string): string;
    // (undocumented)
    getTemp(sub?: string): string | null;
    // (undocumented)
    getTestConfig<T extends ECompilerType>(): TTestConfig<T>;
    // (undocumented)
    getValue<T>(name: string, key: string): T | void;
    // (undocumented)
    hasError(name?: string): boolean;
    // (undocumented)
    setValue<T>(name: string, key: string, value: T): void;
}

// @public (undocumented)
export interface ITestEnv {
    // (undocumented)
    [key: string]: unknown;
    // (undocumented)
    afterEach: (...args: any[]) => void;
    // (undocumented)
    beforeEach: (...args: any[]) => void;
    // (undocumented)
    expect: jest.Expect;
    // (undocumented)
    it: (...args: any[]) => void;
}

// @public (undocumented)
export interface ITester {
    // (undocumented)
    after(): Promise<void>;
    // (undocumented)
    check(env: ITestEnv): Promise<void>;
    // (undocumented)
    compile(): Promise<void>;
    // (undocumented)
    getContext(): ITestContext;
    // (undocumented)
    next(): boolean;
    // (undocumented)
    prepare(): Promise<void>;
    // (undocumented)
    resume(): Promise<void>;
    // (undocumented)
    step: number;
    // (undocumented)
    total: number;
}

// @public (undocumented)
export interface ITesterConfig {
    // (undocumented)
    compilerFactories?: TCompilerFactories<ECompilerType>;
    // (undocumented)
    contextValue?: Record<string, unknown>;
    // (undocumented)
    createContext?: (config: ITesterConfig) => ITestContext;
    // (undocumented)
    dist: string;
    // (undocumented)
    name: string;
    // (undocumented)
    runnerCreator?: TTestRunnerCreator;
    // (undocumented)
    src: string;
    // (undocumented)
    steps?: ITestProcessor[];
    // (undocumented)
    temp?: string;
    // (undocumented)
    testConfig?: TTestConfig<ECompilerType>;
}

// @public (undocumented)
export interface ITestLoader {
    // (undocumented)
    walk(): Promise<void>;
}

// @public (undocumented)
export interface ITestProcessor {
    // (undocumented)
    after?(context: ITestContext): Promise<void>;
    // (undocumented)
    afterAll?(context: ITestContext): Promise<void>;
    // (undocumented)
    before?(context: ITestContext): Promise<void>;
    // (undocumented)
    beforeAll?(context: ITestContext): Promise<void>;
    // (undocumented)
    build(context: ITestContext): Promise<void>;
    // (undocumented)
    check(env: ITestEnv, context: ITestContext): Promise<unknown>;
    // (undocumented)
    compiler(context: ITestContext): Promise<void>;
    // (undocumented)
    config(context: ITestContext): Promise<void>;
    // (undocumented)
    run(env: ITestEnv, context: ITestContext): Promise<void>;
}

// @public (undocumented)
export interface ITestReporter<T> {
    // (undocumented)
    failure(id: string): Promise<void>;
    // (undocumented)
    increment(id: string, data: T): Promise<void>;
    // (undocumented)
    init(data?: T): Promise<void>;
    // (undocumented)
    output(): Promise<void>;
}

// @public (undocumented)
export interface ITestRunner {
    // (undocumented)
    getGlobal(name: string): unknown;
    // (undocumented)
    getRequire(): TRunnerRequirer;
    // (undocumented)
    run(file: string): Promise<unknown>;
}

// @public (undocumented)
export interface IWebRunnerOptions<T extends ECompilerType = ECompilerType.Rspack> extends INodeRunnerOptions<T> {
    // (undocumented)
    location: string;
}

// @public (undocumented)
export class LazyCompilationTestPlugin {
    // (undocumented)
    apply(compiler: Compiler | MultiCompiler): void;
}

// @public (undocumented)
export class NodeRunner<T extends ECompilerType = ECompilerType.Rspack> implements ITestRunner {
    constructor(_options: INodeRunnerOptions<T>);
    // (undocumented)
    protected baseModuleScope: IModuleScope | null;
    // (undocumented)
    protected createBaseModuleScope(): IModuleScope;
    // (undocumented)
    protected createCjsRequirer(): TRunnerRequirer;
    // (undocumented)
    protected createEsmRequirer(): TRunnerRequirer;
    // (undocumented)
    protected createGlobalContext(): IGlobalContext;
    // (undocumented)
    protected createJsonRequirer(): TRunnerRequirer;
    // (undocumented)
    protected createMissRequirer(): TRunnerRequirer;
    // (undocumented)
    protected createModuleScope(requireFn: TRunnerRequirer, m: TModuleObject, file: TRunnerFile): IModuleScope;
    // (undocumented)
    protected createRunner(): void;
    // (undocumented)
    protected getFile(modulePath: string[] | string, currentDirectory: string): TRunnerFile | null;
    // (undocumented)
    getGlobal(name: string): unknown;
    // (undocumented)
    getRequire(): TRunnerRequirer;
    // (undocumented)
    protected globalContext: IGlobalContext | null;
    // (undocumented)
    protected _options: INodeRunnerOptions<T>;
    // (undocumented)
    protected postExecute(m: Object, file: TRunnerFile): void;
    // (undocumented)
    protected preExecute(code: string, file: TRunnerFile): void;
    // (undocumented)
    protected requireCache: any;
    // (undocumented)
    protected requirers: Map<string, TRunnerRequirer>;
    // (undocumented)
    run(file: string): Promise<unknown>;
}

// @public (undocumented)
export function parseModules(content: string, options?: {
    bootstrap?: boolean;
    renameModule?: (name: string) => string;
}): {
    modules: Record<string, string>;
    runtimeModules: Record<string, string>;
};

// @public (undocumented)
export function readConfigFile<T extends ECompilerType>(files: string[], context: ITestContext, prevOption?: TCompilerOptions<T>, functionApply?: (config: (TCompilerOptions<T> | ((...args: unknown[]) => TCompilerOptions<T>))[]) => TCompilerOptions<T>[]): TCompilerOptions<T>[];

// @public (undocumented)
export function replaceModuleArgument(raw: string): string;

// @public (undocumented)
export function replaceRuntimeModuleName(content: string): string;

// @public (undocumented)
export class RspackDiffConfigPlugin implements RspackPluginInstance {
    constructor(modifier?: ((options: RspackOptionsNormalized) => RspackOptionsNormalized) | undefined);
    // (undocumented)
    apply(compiler: Compiler): void;
    // (undocumented)
    name: string;
}

// @public (undocumented)
class RspackStatsDiagnostics {
    constructor(errors: StatsError[], warnings: StatsError[]);
    // (undocumented)
    errors: StatsError[];
    // (undocumented)
    warnings: StatsError[];
}

// @public (undocumented)
class RspackTestDiff {
    constructor(value: string);
    // (undocumented)
    value: string;
}

// @public (undocumented)
export type TCompareModules = string[] | true;

// @public (undocumented)
export type TCompareResult = {
    type: ECompareResultType;
    detail?: unknown;
    source?: string;
    dist?: string;
    lines?: {
        common: number;
        source: number;
        dist: number;
    };
};

// @public (undocumented)
export type TCompilation<T> = T extends ECompilerType.Rspack ? Compilation : Compilation_2;

// @public (undocumented)
export type TCompiler<T> = T extends ECompilerType.Rspack ? Compiler : Compiler_2;

// @public (undocumented)
export type TCompilerCaseConfig = {
    description: string;
    error?: boolean;
    skip?: boolean;
    options?: (context: ITestContext) => TCompilerOptions<ECompilerType.Rspack>;
    compiler?: (context: ITestContext, compiler: TCompiler<ECompilerType.Rspack>) => Promise<void>;
    build?: (context: ITestContext, compiler: TCompiler<ECompilerType.Rspack>) => Promise<void>;
    check?: ({ context, stats, files, compiler, compilation }: {
        context: ITestContext;
        stats?: TCompilerStatsCompilation<ECompilerType.Rspack>;
        files?: Record<string, string>;
        compiler: TCompiler<ECompilerType.Rspack>;
        compilation?: TCompilation<ECompilerType.Rspack>;
    }) => Promise<void>;
    compilerCallback?: (error: Error | null, stats: TCompilerStats<ECompilerType.Rspack> | null) => void;
};

// @public (undocumented)
export type TCompilerFactories<T extends ECompilerType> = Record<T, TCompilerFactory<T>>;

// @public (undocumented)
export type TCompilerFactory<T extends ECompilerType> = (options: TCompilerOptions<T> | TCompilerOptions<T>[], callback?: (error: Error | null, stats: TCompilerStats<T> | null) => void) => TCompiler<T>;

// @public (undocumented)
export type TCompilerMultiStats<T> = T extends ECompilerType.Rspack ? MultiStats : MultiStats_2;

// @public (undocumented)
export type TCompilerOptions<T> = T extends ECompilerType.Rspack ? RspackOptions : Configuration;

// @public (undocumented)
export type TCompilerStats<T> = T extends ECompilerType.Rspack ? Stats : Stats_2;

// @public (undocumented)
export type TCompilerStatsCompilation<T> = T extends ECompilerType.Rspack ? StatsCompilation : StatsCompilation_2;

// @public (undocumented)
export type TConfigCaseConfig = Omit<TTestConfig<ECompilerType.Rspack>, "validate">;

// @public (undocumented)
export type TDefaultsCaseConfig = {
    options?: (context: ITestContext) => TCompilerOptions<ECompilerType.Rspack>;
    cwd?: string;
    diff: (diff: jest.JestMatchers<RspackTestDiff>, defaults: jest.JestMatchers<TCompilerOptions<ECompilerType.Rspack>>) => Promise<void>;
    description: string;
};

// @public (undocumented)
export type TDiagnosticOptions = {
    snapshot: string;
    snapshotErrors: string;
    snapshotWarning: string;
    format?: (output: string) => string;
};

// @public (undocumented)
export type TDiffStats = {
    root: string;
    data: Array<TDiffStatsItem>;
};

// @public (undocumented)
export type TDiffStatsItem = {
    name: string;
    source: string;
    dist: string;
    type: ECompareResultType;
};

// @public (undocumented)
export type TErrorCaseConfig = {
    description: string;
    skip?: boolean;
    options?: (context: ITestContext) => TCompilerOptions<ECompilerType.Rspack>;
    compiler?: (context: ITestContext, compiler: TCompiler<ECompilerType.Rspack>) => Promise<void>;
    build?: (context: ITestContext, compiler: TCompiler<ECompilerType.Rspack>) => Promise<void>;
    check?: (stats: RspackStatsDiagnostics) => Promise<void>;
};

// @public (undocumented)
export class TestContext implements ITestContext {
    constructor(config: TTestContextOptions);
    // (undocumented)
    clearError(name?: string): void;
    // (undocumented)
    closeCompiler(name: string): Promise<void>;
    // (undocumented)
    protected compilers: Map<string, ITestCompilerManager<ECompilerType>>;
    // (undocumented)
    emitError(name: string, err: Error | string): void;
    // (undocumented)
    protected errors: Map<string, Error[]>;
    // (undocumented)
    getCompiler<T extends ECompilerType>(name: string, type: T | void): ITestCompilerManager<T>;
    // (undocumented)
    getDist(sub?: string): string;
    // (undocumented)
    getError(name?: string): Error[];
    // (undocumented)
    getNames(): string[];
    // (undocumented)
    getRunner(name: string, file: string, env: ITestEnv): ITestRunner;
    // (undocumented)
    getSource(sub?: string): string;
    // (undocumented)
    getTemp(sub?: string): string | null;
    // (undocumented)
    getTestConfig<T extends ECompilerType>(): TTestConfig<T>;
    // (undocumented)
    getValue<T>(name: string, key: string): T | void;
    // (undocumented)
    hasError(name?: string): boolean;
    // (undocumented)
    protected runners: Map<string, ITestRunner>;
    // (undocumented)
    setValue<T>(name: string, key: string, value: T): void;
    // (undocumented)
    protected store: Map<string, Record<string, unknown>>;
}

// @public (undocumented)
export class Tester implements ITester {
    constructor(config: ITesterConfig);
    // (undocumented)
    after(): Promise<void>;
    // (undocumented)
    check(env: ITestEnv): Promise<void>;
    // (undocumented)
    compile(): Promise<void>;
    // (undocumented)
    getContext(): ITestContext;
    // (undocumented)
    next(): boolean;
    // (undocumented)
    prepare(): Promise<void>;
    // (undocumented)
    resume(): Promise<void>;
    // (undocumented)
    step: number;
    // (undocumented)
    total: number;
}

// @public (undocumented)
export type TFileCompareResult = TCompareResult & {
    file: {
        source: string;
        dist: string;
    };
    modules: Partial<Record<"modules" | "runtimeModules", TModuleCompareResult[]>>;
};

// @public (undocumented)
export type THashCaseConfig = Pick<TTestConfig<ECompilerType.Rspack>, "validate">;

// @public (undocumented)
export type THookCaseConfig = {
    options?: (context: ITestContext) => TCompilerOptions<ECompilerType.Rspack>;
    compiler?: (context: ITestContext, compiler: TCompiler<ECompilerType.Rspack>) => Promise<void>;
    check?: (context: ITestContext) => Promise<void>;
    snapshotFileFilter?: (file: string) => boolean;
    description: string;
};

// @public (undocumented)
export type THotUpdateContext = {
    updateIndex: number;
    totalUpdates: number;
    changedFiles: string[];
};

// @public (undocumented)
export type TModuleCompareResult = TCompareResult & {
    name: string;
};

// @public (undocumented)
export type TModuleObject = {
    exports: unknown;
};

// @public (undocumented)
export type TMultiCompilerCaseConfig = {
    description: string;
    error?: boolean;
    skip?: boolean;
    options?: (context: ITestContext) => TCompilerOptions<ECompilerType.Rspack>;
    compiler?: (context: ITestContext, compiler: TCompiler<ECompilerType.Rspack>) => Promise<void>;
    build?: (context: ITestContext, compiler: TCompiler<ECompilerType.Rspack>) => Promise<void>;
    check?: ({ context, stats, files, compiler, compilation }: {
        context: ITestContext;
        stats?: TCompilerStatsCompilation<ECompilerType.Rspack>;
        files?: Record<string, string>;
        compiler: TCompiler<ECompilerType.Rspack>;
        compilation?: TCompilation<ECompilerType.Rspack>;
    }) => Promise<void>;
    compilerCallback?: (error: Error | null, stats: TCompilerStats<ECompilerType.Rspack> | null) => void;
};

// @public (undocumented)
export interface TRunnerFactory<T extends ECompilerType> {
    // (undocumented)
    create(file: string, compilerOptions: TCompilerOptions<T>, env: ITestEnv): ITestRunner;
}

// @public (undocumented)
export type TRunnerFile = {
    path: string;
    content: string;
    subPath: string;
};

// @public (undocumented)
export type TRunnerRequirer = (currentDirectory: string, modulePath: string[] | string, context?: {
    file?: TRunnerFile;
    esmMode?: EEsmMode;
}) => Object | Promise<Object>;

// @public (undocumented)
export type TStatsAPICaseConfig = {
    description: string;
    options?: (context: ITestContext) => TCompilerOptions<ECompilerType.Rspack>;
    snapshotName?: string;
    compiler?: (context: ITestContext, compiler: TCompiler<ECompilerType.Rspack>) => Promise<void>;
    build?: (context: ITestContext, compiler: TCompiler<ECompilerType.Rspack>) => Promise<void>;
    check?: (stats: TCompilerStats<ECompilerType.Rspack>, compiler: TCompiler<ECompilerType.Rspack>) => Promise<void>;
};

// @public (undocumented)
export type TTestConfig<T extends ECompilerType> = {
    location?: string;
    validate?: (stats: TCompilerStats<T> | TCompilerMultiStats<T>, stderr?: string) => void;
    noTests?: boolean;
    writeStatsOuptut?: boolean;
    writeStatsJson?: boolean;
    beforeExecute?: (options: TCompilerOptions<T>) => void;
    afterExecute?: (options: TCompilerOptions<T>) => void;
    moduleScope?: (ms: IModuleScope, stats?: TCompilerStatsCompilation<T>, options?: TCompilerOptions<T>) => IModuleScope;
    checkStats?: (stepName: string, jsonStats: TCompilerStatsCompilation<T> | undefined, stringStats: String) => boolean;
    findBundle?: (index: number, options: TCompilerOptions<T>, stepName?: string) => string | string[];
    bundlePath?: string[];
    nonEsmThis?: (p: string | string[]) => Object;
    modules?: Record<string, Object>;
    timeout?: number;
    concurrent?: boolean;
    snapshotContent?(content: string): string;
    checkSteps?: boolean;
    ignoreNotFriendlyForIncrementalWarnings?: boolean;
};

// @public (undocumented)
export type TTestContextOptions = Omit<ITesterConfig, "name" | "steps">;

// @public (undocumented)
export type TTestFilter<T extends ECompilerType> = (creatorConfig: Record<string, unknown>, testConfig: TTestConfig<T>) => boolean | string;

// @public (undocumented)
export type TTestRunnerCreator = {
    key: (context: ITestContext, name: string, file: string) => string;
    runner: (context: ITestContext, name: string, file: string, env: ITestEnv) => ITestRunner;
};

// @public (undocumented)
export type TTestRunResult = Record<string, any>;

// @public (undocumented)
type WatchIncrementalOptions = {
    ignoreNotFriendlyForIncrementalWarnings?: boolean;
};

// @public (undocumented)
export class WebpackDiffConfigPlugin {
    constructor(modifier?: ((options: WebpackOptionsNormalized) => WebpackOptionsNormalized) | undefined);
    // (undocumented)
    apply(compiler: Compiler_2): void;
    // (undocumented)
    name: string;
}

// @public (undocumented)
export class WebpackModulePlaceholderPlugin {
    // (undocumented)
    apply(compiler: any): void;
}

// @public (undocumented)
export class WebRunner<T extends ECompilerType = ECompilerType.Rspack> extends NodeRunner<T> {
    constructor(_webOptions: IWebRunnerOptions<T>);
    // (undocumented)
    protected createBaseModuleScope(): IModuleScope;
    // (undocumented)
    protected createJSDOMRequirer(): TRunnerRequirer;
    // (undocumented)
    protected createResourceLoader(): {
        fetch(url: string, _: {
            element: HTMLScriptElement;
        }): any;
    };
    // (undocumented)
    protected createRunner(): void;
    // (undocumented)
    getGlobal(name: string): unknown;
    // (undocumented)
    protected getModuleContent(file: TRunnerFile): [
        {
        exports: Record<string, unknown>;
    },
    string
    ];
    // (undocumented)
    run(file: string): Promise<unknown>;
    // (undocumented)
    protected _webOptions: IWebRunnerOptions<T>;
}

// (No @packageDocumentation comment for this package)

```
