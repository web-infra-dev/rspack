```js title=main.js
"use strict";
(self["webpackChunkwebpack"] = self["webpackChunkwebpack"] || []).push([["main"], {
"./index.js": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.a(module, async function (__webpack_handle_async_dependencies__, __webpack_async_result__) { try {
__webpack_require__.r(__webpack_exports__);
/* ESM import */var http_localhost_8999_cached_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("http://localhost:8999/cached.js");
/* ESM import */var http_localhost_8999_no_cache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("http://localhost:8999/no-cache.js");
/* ESM import */var http_localhost_8999_etag_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("http://localhost:8999/etag.js");
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([http_localhost_8999_cached_js__WEBPACK_IMPORTED_MODULE_0__, http_localhost_8999_no_cache_js__WEBPACK_IMPORTED_MODULE_1__, http_localhost_8999_etag_js__WEBPACK_IMPORTED_MODULE_2__]);
([http_localhost_8999_cached_js__WEBPACK_IMPORTED_MODULE_0__, http_localhost_8999_no_cache_js__WEBPACK_IMPORTED_MODULE_1__, http_localhost_8999_etag_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);



// Import again to test caching behavior




it("should cache modules with default cache headers", () => {
  expect(http_localhost_8999_cached_js__WEBPACK_IMPORTED_MODULE_0__["default"].message).toBe("This module should be cached");
  expect(http_localhost_8999_cached_js__WEBPACK_IMPORTED_MODULE_0__["default"].message).toBe("This module should be cached");

  // Request count should be the same for both imports
  // because the module should be cached after the first request
  expect(http_localhost_8999_cached_js__WEBPACK_IMPORTED_MODULE_0__["default"].requestCount).toBe(http_localhost_8999_cached_js__WEBPACK_IMPORTED_MODULE_0__["default"].requestCount);
});

it("should not cache modules with no-cache headers", () => {
  expect(http_localhost_8999_no_cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].message).toBe("This module should NOT be cached (no-cache header)");
  expect(http_localhost_8999_no_cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].message).toBe("This module should NOT be cached (no-cache header)");

  // Request count should be different for the second import
  // because the module should not be cached
  expect(http_localhost_8999_no_cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].requestCount).not.toBe(http_localhost_8999_no_cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].requestCount);
});

it("should handle ETags correctly", () => {
  expect(http_localhost_8999_etag_js__WEBPACK_IMPORTED_MODULE_2__["default"].message).toBe("This module should use ETag for caching");
  expect(http_localhost_8999_etag_js__WEBPACK_IMPORTED_MODULE_2__["default"].message).toBe("This module should use ETag for caching");

  // Since we're using ETags, the server might return a 304 Not Modified
  // The requestCount might be the same or different depending on implementation
  // We're just checking that the content is correctly returned
});

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

}),
"http://localhost:8999/cached.js": (function (module) {
module.exports = import("http://localhost:8999/cached.js");

}),
"http://localhost:8999/etag.js": (function (module) {
module.exports = import("http://localhost:8999/etag.js");

}),
"http://localhost:8999/no-cache.js": (function (module) {
module.exports = import("http://localhost:8999/no-cache.js");

}),

},function(__webpack_require__) {
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId) }
var __webpack_exports__ = (__webpack_exec__("./index.js"));

}
]);
```