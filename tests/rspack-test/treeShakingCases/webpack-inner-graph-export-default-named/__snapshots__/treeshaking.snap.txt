```js title=main.js
"use strict";
(self["webpackChunkwebpack"] = self["webpackChunkwebpack"] || []).push([["main"], {
"./a.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.d(__webpack_exports__, {
  "default": () => (abc)
});
/* import */ var _dep_a__rspack_import_0 = __webpack_require__("./dep.js?a");


function abc() {
	return _dep_a__rspack_import_0.x;
}


}),
"./b.js": (function (__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {
/* import */ var _dep_b__rspack_import_0 = __webpack_require__("./dep.js?b");


function abc() {
	return x;
}


}),
"./c.js": (function (__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {
/* import */ var _dep_c__rspack_import_0 = __webpack_require__("./dep.js?c");


function abc() {
	return _dep_c__rspack_import_0.x;
}

abc();


}),
"./d.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.d(__webpack_exports__, {
  "default": () => (def)
});
/* import */ var _dep_d__rspack_import_0 = __webpack_require__("./dep.js?d");


class def {
	method() {
		return _dep_d__rspack_import_0.x;
	}
}


}),
"./dep.js?a": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__rspack_default_export),
  x: () => (x)
});
const x = "x";

/* export default */ const __rspack_default_export = (true);


}),
"./dep.js?b": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__rspack_default_export)
});
const x = "x";

/* export default */ const __rspack_default_export = (false);


}),
"./dep.js?c": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__rspack_default_export),
  x: () => (x)
});
const x = "x";

/* export default */ const __rspack_default_export = (true);


}),
"./dep.js?d": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__rspack_default_export),
  x: () => (x)
});
const x = "x";

/* export default */ const __rspack_default_export = (true);


}),
"./dep.js?e": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__rspack_default_export)
});
const x = "x";

/* export default */ const __rspack_default_export = (false);


}),
"./dep.js?f": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__rspack_default_export),
  x: () => (x)
});
const x = "x";

/* export default */ const __rspack_default_export = (true);


}),
"./e.js": (function (__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {
/* import */ var _dep_e__rspack_import_0 = __webpack_require__("./dep.js?e");


class def {
	method() {
		return x;
	}
}


}),
"./f.js": (function (__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {
/* import */ var _dep_f__rspack_import_0 = __webpack_require__("./dep.js?f");


class def {
	method() {
		return _dep_f__rspack_import_0.x;
	}
}

new def().method();


}),
"./index.js": (function (__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {
/* import */ var _a__rspack_import_0 = __webpack_require__("./a.js");
/* import */ var _b__rspack_import_1 = __webpack_require__("./b.js");
/* import */ var _c__rspack_import_2 = __webpack_require__("./c.js");
/* import */ var _d__rspack_import_3 = __webpack_require__("./d.js");
/* import */ var _e__rspack_import_4 = __webpack_require__("./e.js");
/* import */ var _f__rspack_import_5 = __webpack_require__("./f.js");
/* import */ var _dep_a__rspack_import_6 = __webpack_require__("./dep.js?a");
/* import */ var _dep_b__rspack_import_7 = __webpack_require__("./dep.js?b");
/* import */ var _dep_c__rspack_import_8 = __webpack_require__("./dep.js?c");
/* import */ var _dep_d__rspack_import_9 = __webpack_require__("./dep.js?d");
/* import */ var _dep_e__rspack_import_10 = __webpack_require__("./dep.js?e");
/* import */ var _dep_f__rspack_import_11 = __webpack_require__("./dep.js?f");














it("should generate valid code", () => {
	expect((0,_a__rspack_import_0["default"])()).toBe("x");
	expect(new _d__rspack_import_3["default"]().method()).toBe("x");
});

it("a should be used", () => {
	expect(_dep_a__rspack_import_6["default"]).toBe(true);
});

if (true) {
	it("b should be unused", () => {
		expect(_dep_b__rspack_import_7["default"]).toBe(false);
	});
}

it("c should be used", () => {
	expect(_dep_c__rspack_import_8["default"]).toBe(true);
});

if (true) {
	it("d should be used", () => {
		expect(_dep_d__rspack_import_9["default"]).toBe(true);
	});

	it("e should be unused", () => {
		expect(_dep_e__rspack_import_10["default"]).toBe(false);
	});
}

it("f should be used", () => {
	expect(_dep_f__rspack_import_11["default"]).toBe(true);
});


}),

},function(__webpack_require__) {
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId) }
var __webpack_exports__ = (__webpack_exec__("./index.js"));

}
]);
```