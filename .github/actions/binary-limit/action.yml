name: Binary Size Limit

description: Compare binary size with default

inputs:
  size-threshold:
    description: 'the increase size limit in bytes, default is 50kb'
    default: '51200'
    required: false

runs:
  using: composite

  steps:
    - name: GitHub Script
      uses: actions/github-script@450193c5abd4cdb17ba9f3ffcfe8f635c4bb6c2a
      with:
        script: |
          const limit = parseInt("${{ inputs.size-threshold }}") || 51200;
          const action = require("./.github/actions/binary-limit/binary-limit-script.js");
          await action({github, context, limit});
